<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /

    # 1. Se o arquivo ou pasta existe fisicamente (imagens, css), acessa direto
    RewriteCond %{REQUEST_FILENAME} -f [OR]
    RewriteCond %{REQUEST_FILENAME} -d
    RewriteRule ^ - [L]

    # 2. Bloqueia acesso direto a arquivos de sistema/config
    RewriteRule ^(composer\.json|package\.json|\.env|\.git|config|db\.php) - [F]

    # 3. Todo o resto vai para o index.php (Front Controller)
    RewriteRule ^ index.php [QSA,L]
</IfModule>